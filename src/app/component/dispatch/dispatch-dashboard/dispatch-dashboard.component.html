<div class="dispatchSection">
    <h1 class="pageTitle">Dispatch</h1>
    <div class="row">
        <div class="col-sm-12">
            <nav class="tabbed-nav MT20">
                <ul class="tabs-list">
                    <li class="tabs">
                        <button [ngClass]="dispatchTab == 'all' ? 'act-option' :''" (click)="changeDispatchTab('all')"
                            mat-raised-button class="trea-btn">All</button>
                    </li>
                    <li class="tabs">
                        <button [ngClass]="{ 'disable' : isWoDisableTab == '1', 'act-option' : dispatchTab == 'work-orders' }" (click)="changeDispatchTab('work-orders')"
                            mat-raised-button class="trea-btn">Work Orders</button>
                    </li>
                    <li class="tabs">
                        <button [ngClass]="{ 'disable' : isStaffDisableTab == '1', 'act-option' : dispatchTab == 'staff' }" (click)="changeDispatchTab('staff')"
                            mat-raised-button class="trea-btn">Staff</button>
                    </li>
                </ul>
            </nav>
            <div class="pull-right color-red" >
              <span *ngIf="connected_members == 0">Trying to connect {{remaining_members ? remaining_members : constant.NA }} {{ remaining_members > 1 ? 'users' : 'user'}}.</span>
               <span *ngIf="connected_members > 0">Conneced with {{connected_members}} {{connected_members > 1 ? 'users' : 'user'}}.</span>
            </div>
        </div>
        <!-- <div class="col-sm-3">
            Connecting... 1 Out of {{staffList.length}}
        </div> -->
    </div>
</div>



<div [ngSwitch]="dispatchTab">
    <div *ngSwitchCase="'all'">
        <app-dispatch-all [woList]="woList" [staffList]="staffList" [companyData]="companyData"></app-dispatch-all>
    </div>

    <div *ngSwitchCase="'work-orders'">
        <app-dispatch-wo [woList]="woList" [companyData]="companyData"></app-dispatch-wo>
    </div>

    <div *ngSwitchCase="'staff'">
        <app-dispatch-staff [staffList]="staffList" [is_staff_location]="is_staff_location" [companyData]="companyData"></app-dispatch-staff>
    </div>
</div>





