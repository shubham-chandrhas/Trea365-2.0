<div class="inventory-section qutationreviewWrap" *ngIf="selectedQuotation">
	<div class="pageTitle">Quote No. {{selectedQuotation.project_estimate_no}}</div>
  	<div class="clearfix"></div>
  	<div class="selSection">
		<div class="clearfix"></div>
		<div class="quotationreviewDetails">
			<div class="row">
				<div class="col-sm-6">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Date</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{util.getFormatedDate(selectedQuotation.project_estimate_date)}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Generated by</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.generated_by ? selectedQuotation.generated_by : constant.N_A}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Contact</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.contact_name ? selectedQuotation.contact_name : constant.N_A}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Email</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.email_id ? selectedQuotation.email_id : constant.N_A}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Phone number</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.phone_no ? util.maskPhoneNumber(selectedQuotation.phone_no) : constant.N_A}}</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Client</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.client_name ? selectedQuotation.client_name : constant.N_A }}</div>
						</div>
					</div>
					<!-- <div class="margin20"> -->
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Work Location</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col">{{selectedQuotation.client_work_location ? selectedQuotation.client_work_location : constant.N_A }}</div>
							</div>
						</div>
					<!-- </div> -->
					<!-- <div class="margin20"> -->
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Billing Location</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col">{{selectedQuotation.client_billing_location ? selectedQuotation.client_billing_location : constant.N_A}}</div>
							</div>
						</div>
					<!-- </div> -->
				</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="reqDescWrap">
			<div class="subTitle">
				<span>Requirements Description</span>
			</div>
			<div class="description">
					{{selectedQuotation.requirements}}
			</div>
			<div class="row">
				<div class="col-sm-3" *ngFor="let indx=index ;let img of selectedQuotation.images">
					<div class="previewImg">
							<img src="{{img.attachment_path}}" class="img-responsive" />
					</div>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="servicesDetails" *ngIf="selectedQuotation.services.length > 0">
			<div class="subTitle">
				<span>Services</span>
			</div>
			<div class="table-responsive">
				<table class="table">
					<thead>
						<tr>
							<th>Service</th>
							<th class="text-right">Cost</th>
							<th class="text-right">Quantity</th>
							<th class="text-right">Amount</th>
							<th><span class="padL15">Details</span></th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let service of selectedQuotation.services">
							<td>{{service.service_definition ? service.service_definition : constant.N_A}}</td>
							<td class="text-right">{{service.cost | currency: util.getCurrency() :'symbol-narrow'}}</td>
							<td class="text-right">{{service.quantity}}</td>
							<td class="text-right">{{service.total_amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
							<td><span class="padL15">{{service.details ? service.details : constant.N_A }}</span></td>
						</tr>
					</tbody>
				</table>
				<div class="text-center tfooter">
					<span>Total Amount for Services </span> <span *ngIf="selectedQuotation.costs">  {{selectedQuotation.costs.cost_of_services | currency: util.getCurrency() :'symbol-narrow'}}</span>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<div class="materialsDetails" *ngIf="selectedQuotation.product_materials.length > 0">
			<div class="subTitle">
				<span>Product / Materials</span>
			</div>
			<div class="table-responsive">
				<table class="table">
				<thead>
					<tr >
						<th>Product/Material Type</th>
						<th class="text-right">Cost</th>
						<th class="text-right">Quantity</th>
						<th class="text-right">Amount</th>
						<th><span class="padL15">Details</span></th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let material of selectedQuotation.product_materials">
						<td>{{material.item_definition_name ? material.item_definition_name : constant.N_A}}</td>
						<td class="text-right">{{material.cost | currency: util.getCurrency() :'symbol-narrow'}}</td>
						<td class="text-right">{{material.quantity}}</td>
						<td class="text-right">{{material.total_amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
						<td><span class="padL15">{{material.details ? material.details : constant.N_A}}</span></td>
					</tr>
				</tbody>
			</table>
			<div class="text-center tfooter">
				<span>Total Amount for Material And Product </span> <span *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.cost_of_materials | currency: util.getCurrency() :'symbol-narrow'}} </span>
			</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="scheduleDetails">
			<div class="subTitle">
				<span>Schedule</span>
			</div>
			<div class="table-responsive">
				<table class="table">
				<thead>
					<tr>
						<th>Start Date</th>
						<th>Start Time</th>
						<th>End Date</th>
						<th>End Time</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngIf="selectedQuotation.schedule">
						<td>{{util.getFormatedDate(selectedQuotation.schedule.start_date)}}</td>
						<td>{{selectedQuotation.schedule.start_time}} {{selectedQuotation.schedule.start_time_format}}</td>
						<td>{{util.getFormatedDate(selectedQuotation.schedule.end_date)}}</td>
						<td>{{selectedQuotation.schedule.end_time}} {{selectedQuotation.schedule.end_time_format}}</td>
					</tr>
				</tbody>
			</table>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="paymentsDetails">
				<h3 class="detailsHeading">Fees</h3>
				<div class="costCalculate">
					<div class="row">
						<div class="col-sm-6">
							<h4 class="detailsHeading">Costs</h4>
							<div class="row">
								<div class="col-sm-6">
									<div class="label-col">Cost of Services</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right" *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.cost_of_services | currency: util.getCurrency() :'symbol-narrow'}}</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="label-col">Cost of Materials</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right" *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.cost_of_materials | currency: util.getCurrency() :'symbol-narrow'}}</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="label-col">Shipping & Handling</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right" *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.shipping_handling | currency: util.getCurrency() :'symbol-narrow'}}</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="label-col">Adjustment (+/-)</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right" *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.adjustment | currency: util.getCurrency() :'symbol-narrow'}}</div>
								</div>
				              </div>
				              <div class="row MB15">
				                  <div class="col-sm-6">
				                      <div class="label-col">Subtotal</div>
				                  </div>
				                  <div class="col-sm-3">
				                      <div class="info-col text-right" *ngIf="selectedQuotation.costs">
				                        <strong>{{selectedQuotation.costs.subtotal | currency: util.getCurrency() :'symbol-narrow'}}</strong>
				                      </div>
				                  </div>
				              </div>
							<div class="row" *ngIf="selectedQuotation.costs">
								<div class="col-sm-6">
									<div class="label-col">Tax @ ({{selectedQuotation.costs.taxes}}%)</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right">{{selectedQuotation.costs.tax_amount | currency: util.getCurrency() :'symbol-narrow'}}</div>
								</div>
							</div>
							<div class="row"  *ngIf="selectedQuotation.costs">
								<div class="col-sm-6">
									<div class="label-col text-right">Total Cost</div>
								</div>
								<div class="col-sm-3">
									<div class="info-col text-right"><strong>{{selectedQuotation.costs.total_cost | currency: util.getCurrency() :'symbol-narrow'}}</strong></div>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<h4 class="detailsHeading">Scheduled Payments</h4>
							<div class="table-responsive">
								<table class="table">
									<thead>
										<tr>
											<th>Date</th>
											<th class="text-right">Amount Due</th>
										</tr>
									</thead>
									<tbody>
										<tr *ngFor="let payment_schedule of selectedQuotation.payment_schedules">
											<td>{{util.getFormatedDate(payment_schedule.payment_date)}}</td>
											<td class="text-right">{{payment_schedule.amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
										</tr>
									</tbody>
									<tfoot>
										<tr>
											<td><div class="label-col text-right" style="padding-right:1em;">Total Amount Due</div></td>
											<td class="text-right"><strong *ngIf="selectedQuotation.costs">{{selectedQuotation.costs.total_cost | currency: util.getCurrency() :'symbol-narrow'}}</strong></td>
										</tr>
									</tfoot>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="clearfix"></div>
          <!-- TODO: After getting invioce list object in response -->
				<div *ngIf="selectedQuotation.invoice_lists && selectedQuotation.invoice_lists.length > 0">
					<h3 class="detailsHeading">Invoices</h3>
					<div class="table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th>Invoice No.</th>
									<th>Date</th>
									<th>Amount Due</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let invoice of selectedQuotation.invoice_lists">
									<td><a href="javascript:void(0)" [routerLink]="['/account/csa/invoice-list/', invoice.invoice_id]">#{{invoice.invoice_no}}</a></td>
									<td>{{util.getFormatedDate(invoice.invoice_date)}}</td>
									<td>{{invoice.total_payment_amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

		<div class="clearfix"></div>

		<div class="inspectionDetails">
			<div class="subTitle">
				<span>Site Inspection</span>
			</div>
			<div class="row infoWrap">
				<div class="col-sm-8">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Site Inspection</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspections ? 'YES' : 'NO'}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspections">
						<div class="col-sm-6">
							<div class="label-col">Date</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{util.getFormatedDate(selectedQuotation.site_inspections.inspection_date)}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspections">
						<div class="col-sm-6">
							<div class="label-col">Time</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspections.start_time}} {{selectedQuotation.site_inspections.start_time_format}}-{{selectedQuotation.site_inspections.end_time}} {{selectedQuotation.site_inspections.end_time_format}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspections">
						<div class="col-sm-6">
							<div class="label-col">Inspector</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspections.inspector_name ? selectedQuotation.site_inspections.inspector_name : '' }}</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="button-row">
				<button type="button" mat-raised-button class="trea-btn" (click) = "WOContractor()">W/O Setup</button>
				<button type="button" mat-raised-button class="trea-btn" type="button" routerLink="/workflow/wo/csa/work-order-list/0">Cancel</button>
		</div>

	</div>
</div>


