<div class="inventory-section qutationreviewWrap" *ngIf="selectedQuotation">
	<div class="pageTitle">Quote No. {{selectedQuotation.project_estimate_no}}</div>
  	<div class="clearfix"></div>
  	<div class="selSection">
		<div class="clearfix"></div>
		<div class="quotationreviewDetails">
			<div class="row">
				<div class="col-sm-6">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Date</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{util.getFormatedDate(selectedQuotation.project_estimate_date)}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Generated by</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.generated_by }}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Email</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.email_id}}</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Phone number</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.phone_no }}</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Client</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{ selectedQuotation.client_name }}</div>
						</div>
					</div>
					<div class="" *ngIf="selectedQuotation.client_work_location">
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Work Location</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col">{{ selectedQuotation.client_work_location }}</div>
							</div>
						</div>
					</div>
					<div class="" *ngIf="selectedQuotation.client_billing_location">
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Billing Location</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col">{{ selectedQuotation.client_billing_location }}</div>
							</div>
						</div>
					</div>
				</div>
			</div> 
		</div>
		<div class="clearfix"></div>

		<div class="reqDescWrap">
			<div class="subTitle">
				<span>Requirements Description</span>
			</div>
			<div class="description">
					{{selectedQuotation.requirements}}
			</div>
			<div class="row">
				<div class="col-sm-3" *ngFor="let indx=index ;let img of selectedQuotation.images">
					<div class="previewImg">
							<img src="{{img.image_path}}" class="img-responsive" />        
					</div>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="servicesDetails" *ngIf="selectedQuotation.services.length > 0">
			<div class="subTitle">
				<span>Services</span>
			</div>
			<div class="table-responsive">
				<table class="table">
					<thead>
						<tr>
							<th>Service</th>
							<th class="text-right">Cost</th>
							<th class="text-right">Quantity</th>
							<th class="text-right">Amount</th>
							<th><span class="padL15">Details</span></th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let service of selectedQuotation.services">
							<td>
                                {{ service?.service_definition}}
                            </td>
							<td class="text-right">{{service.cost | currency: util.getCurrency() :'symbol-narrow'}}</td>
							<td class="text-right">{{service.quantity}}</td>
							<td class="text-right">{{service.total_amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
							<td><span class="padL15">{{service?.details ? service.details : '-' }}</span></td>
						</tr>
					</tbody>
				</table>
				<div class="text-center tfooter">
					<span>Total Amount for Services </span> <span *ngIf="selectedQuotation.costs?.cost_of_services">  {{selectedQuotation.costs.cost_of_services | currency: util.getCurrency() :'symbol-narrow'}}</span>
				</div>  	
			</div>
		</div>
		<div class="clearfix"></div>
	
		<div class="materialsDetails" *ngIf="selectedQuotation.product_materials.length > 0">
			<div class="subTitle">
				<span>Product / Materials</span>
			</div>
			<div class="table-responsive">
				<table class="table">
				<thead>
					<tr >
						<th>Product/Material Type</th>
						<th class="text-right">Cost</th>
						<th class="text-right">Quantity</th>
						<th class="text-right">Amount</th>
						<th ><span class="padL15">Details</span></th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let material of selectedQuotation.product_materials">
						<td>{{material.item_definition_name}}</td>
						<td class="text-right">{{material.cost | currency: util.getCurrency() :'symbol-narrow'}}</td>
						<td class="text-right">{{material.quantity}} <span class="">&nbsp;{{ material.uom }}</span></td>
						<td class="text-right">{{material.total_amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
						<td><span class="padL15">{{material.details ? material.details : '-'}}</span></td>
					</tr>
				</tbody>
			</table>
			<div class="text-center tfooter">
				<span>Total Amount for Material And Product </span> <span *ngIf="selectedQuotation.costs?.cost_of_materials">{{selectedQuotation.costs.cost_of_materials | currency: util.getCurrency() :'symbol-narrow'}} </span>
			</div>  	 	
			</div>
		</div>
		<div class="clearfix"></div>
			
		<div class="scheduleDetails"  *ngIf="selectedQuotation.schedule && selectedQuotation.schedule.schedule_type != 4">
			<div class="subTitle">
				<span>Schedule</span>
			</div>
			<div class="table-responsive">
				<table class="table">
				<thead>
					<tr>
						<th>Start Date</th>
						<th>Start Time</th>
						<th>End Date</th>
						<th>End Time</th>
						<!-- <th>Repeat On</th> -->
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>{{util.getFormatedDate(selectedQuotation.schedule.start_date)}}</td>
						<td>{{selectedQuotation.schedule.start_time}} {{selectedQuotation.schedule.start_time_format}}</td>
						<td>{{util.getFormatedDate(selectedQuotation.schedule.end_date)}}</td>
						<td>{{selectedQuotation.schedule.end_time}} {{selectedQuotation.schedule.end_time_format}}</td>
					</tr>
				</tbody>
			</table>  	 	
			</div>
		</div>
		<div class="clearfix"></div>
		

		<div class="paymentsDetails">
			<h3 class="detailsHeading">Fees</h3>
			<div class="costCalculate">
				<div class="row">
					<div class="col-sm-6">
						<h4 class="detailsHeading">Costs</h4>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Cost of Services </div>
							</div>
							<div class="col-sm-6">
								<div *ngIf="selectedQuotation.costs?.cost_of_services" class="info-col text-right">{{selectedQuotation.costs.cost_of_services | currency: util.getCurrency() :'symbol-narrow'}}</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Cost of Materials</div>
							</div>
							<div class="col-sm-6">
								<div *ngIf="selectedQuotation.costs?.cost_of_materials" class="info-col text-right">{{selectedQuotation.costs.cost_of_materials | currency: util.getCurrency() :'symbol-narrow'}}</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">
									<div class="text-rigth">Subtotal</div>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col text-right"><strong>{{selectedQuotation.costs.subtotal | currency: util.getCurrency() :'symbol-narrow'}}</strong></div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Shipping & Handling</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col text-right">{{selectedQuotation.costs.shipping_and_handling | currency: util.getCurrency() :'symbol-narrow'}}</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Adjustment (+/-)</div>
							</div>
							<div class="col-sm-6">
								<div class="info-col text-right">{{selectedQuotation.costs.adjustment | currency: util.getCurrency() :'symbol-narrow'}}</div>
							</div>
                        </div>
                        
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">Taxes {{selectedQuotation.costs.taxes}}%</div>
							</div>
							<div class="col-sm-6">
								<div  class="info-col text-right">{{selectedQuotation.costs.tax_amount | currency: util.getCurrency() :'symbol-narrow'}}</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-6">
								<div class="label-col">
									<div class="text-rigth">Total Cost</div>
								</div>
							</div>
							<div class="col-sm-6">
                                {{ selectedQuotation.costs.total_cost }}
								<div class="info-col text-right" ><strong>{{selectedQuotation.costs.total_cost | currency: util.getCurrency() :'symbol-narrow'}}</strong></div>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<h4 class="detailsHeading">Scheduled Payments</h4>
						<div class="table-responsive">
							<table class="table">
								<thead>
									<tr>
										<th>Date</th>
										<th class="text-right">Amount Due</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of selectedQuotation.payment_schedules">
										<td>{{util.getFormatedDate(item.payment_date)}}</td>
										<td class="text-right">{{item.amount | currency: util.getCurrency() :'symbol-narrow'}}</td>
									</tr>
								</tbody>
								<tfoot>

									<tr>
										<td><div class="label-col" style="padding-right:1em;">Total Amount Scheduled</div></td>
										<td class="text-right"><strong>{{selectedQuotation.costs.total_cost | currency: util.getCurrency() :'symbol-narrow'}}</strong></td>
									</tr>
								</tfoot>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>	
		<div class="clearfix"></div>

		<div class="inspectionDetails">
			<div class="subTitle">
				<span>Site Inspection</span>
			</div>
			<div class="row infoWrap">
				<div class="col-sm-8">
					<div class="row">
						<div class="col-sm-6">
							<div class="label-col">Site Inspection</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspection ? 'YES' : 'NO'}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspection">
						<div class="col-sm-6">
							<div class="label-col">Date</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{util.getFormatedDate(selectedQuotation.site_inspection.inspection_date)}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspection">
						<div class="col-sm-6">
							<div class="label-col">Time</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspection.start_time}} {{selectedQuotation.site_inspection.start_time_format}}-{{selectedQuotation.site_inspection.end_time}} {{selectedQuotation.site_inspection.end_time_format}}</div>
						</div>
					</div>
					<div class="row" *ngIf="selectedQuotation.site_inspection">
						<div class="col-sm-6">
							<div class="label-col">Inspector</div>
						</div>
						<div class="col-sm-6">
							<div class="info-col">{{selectedQuotation.site_inspection.inspector_details ? selectedQuotation.site_inspection.inspector_details.first_name : 'N/A'}} {{selectedQuotation.site_inspection.inspector_details ? selectedQuotation.site_inspection.inspector_details.last_name : ''}}</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>

		<div class="button-row">      
				<button type="button" mat-raised-button class="trea-btn" (click) = "createInvoice()">Create Invoice</button>
				<button type="button" mat-raised-button class="trea-btn cancel" type="button" routerLink="/account/csa/invoice-list/0">Cancel</button>
		</div>

	</div> 	
</div>


