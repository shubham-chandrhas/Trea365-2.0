<div class="inventory-section">
  <h1 class="pageTitle">Assets</h1>
  <p class="page-summary">Tools, vehicles, equipment, and other long-lived inventory items.</p>

  <div class="trea-welcome" *ngIf="assetList.length == 0 && onBoarding">
    <h4>There are no Assets yet.</h4>
    <p class="textJustified">
      Assets are valuable items used by the company for an extended time, such as vehicles, machines, and expensive
      tools and equipment. Assets are individually identifiable by serial numbers, as well as unique names and barcodes,
      and their value is calculated over their lifespan. Each Asset is added based on a specified Item Definition.
    </p>
    <p class="textJustified">
      Assets will be listed here when an authorized user has created one.
    </p>
    <div class="button-row clearfix" canAccess="asset_create">

      <button mat-raised-button class="trea-btn" type="button" (click)="addNewAsset()">
        Create an Asset
      </button>

    </div>
    <div class="clearfix" *ngIf="!util.canAccess('asset_create')">
      <p class="note">Please contact an administrator who can add Asset</p>
    </div>
  </div>

  <div class="head-row clearfix" *ngIf="assetList.length != 0">
    <div class="search-section">
      <div class="input-group">
        <span class="search-icn" id="basic-addon1">
          <i class="fa fa-search" aria-hidden="true"></i>
        </span>
        <input autocomplete="nope" type="text" class="form-control" [(ngModel)]="searchList"
          (keydown.enter)="searchTxt = searchList" (ngModelChange)="getSearchTxt(searchList)">
        <button type="button" mat-raised-button class="client-btn" (click)="searchTxt = searchList">Search</button>
      </div>
    </div>

    <div class="add-client addEmpBtnWrap newAsset" canAccess="asset_create">
      <div class="dropdown">
        <button mat-raised-button class="client-btn dropdown-toggle" data-toggle="dropdown" type="button"> New Asset
        </button>
        <ul class="dropdown-menu">
          <li><a href="javascript:void(0)" mat-raised-button class="client-btn" (click)="showProductListPopup()">With
              P/O </a></li>
          <li><a href="javascript:void(0)" mat-raised-button class="client-btn" (click)="addNewAsset()">Without P/O </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="trea-data-table table-responsive" *ngIf="assetList.length != 0">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>
            <div class="table-hdr">
              <div>
                <span>Manufacturer</span>
                <span (click)="sortList('manufacturer_name', 'A')">
                  <i [ngClass]=" sortColumn == 'manufacturer_name' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="manfNameSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th>
            <div class="bdr-left table-hdr">
              <div>
                <span>Item Definition</span>
                <span (click)="sortList('item_definition_name', 'A')">
                  <i [ngClass]=" sortColumn == 'item_definition_name' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="itemNameSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th width="300">
            <div class="bdr-left table-hdr">
              <div>
                <span>Asset Name</span>
                <span (click)="sortList('short_tag', 'A')">
                  <i [ngClass]=" sortColumn == 'short_tag' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="nameSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th>
            <div class="bdr-left table-hdr">
              <div>
                <span>Location</span>
                <span (click)="sortList('location_tag', 'A')">
                  <i [ngClass]=" sortColumn == 'location_tag' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="locationSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th>
            <div class="bdr-left table-hdr">
              <div>
                <span>Scan Code</span>
                <span (click)="sortList('scan_code', 'A')">
                  <i [ngClass]=" sortColumn == 'scan_code' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="scanCodeSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th>
            <div class="bdr-left table-hdr">
              <div>
                <span>Assigned To</span>
                <span (click)="sortList('assign_to', 'A')">
                  <i [ngClass]=" sortColumn == 'assign_to' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="assignToSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>
          <th>
            <div class="bdr-left table-hdr">
              <div>
                <span>Status</span>
                <span (click)="sortList('status', 'A')">
                  <i [ngClass]=" sortColumn == 'status' && sortOrder == 'ASC' ? 'fa-rotate-90' : 'fa-rotate-270' "
                    class="fa fa-signal" aria-hidden="true"></i>
                </span>
              </div>
              <div>
                <input autocomplete="nope" [(ngModel)]="statusSearch" type="text" class="form-control" placeholder=""
                  aria-label="" aria-describedby="basic-addon1">
              </div>
            </div>
          </th>

        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let indx=index ;let asset of assetList | sortBy:sortColumn:sortOrder:sortColumnType |  searchfilter:manfNameSearch:'manufacturer_name'|  searchfilter:itemNameSearch:'item_definition_name'|
                searchfilter:nameSearch:'short_tag'| searchfilter:locationSearch:'location_tag' | searchfilter:scanCodeSearch:'scan_code' | searchfilter:statusSearch:'status' |
                searchfilter:assignToSearch:'assign_to' | searchfilter:searchTxt:'manufacturer_name,item_definition_name,short_tag,location_tag,scan_code,assign_to,status' | listLengthfilter | paginate: paginationKey"
          (click)="selectAsset(asset.asset_id, indx)" [ngClass]="selectedIndex == indx  ? 'sel-row-highlight' : ''">
          <td>{{asset.manufacturer_name}}</td>
          <td>{{asset.item_definition_name}}</td>
          <td>{{asset.short_tag}}<span class="dn">{{ indx == 0 ? updateCount(asset.count) : ''}}</span></td>
          <td>{{asset.location_tag}}</td>
          <td>{{asset.scan_code}}</td>
          <td>{{asset.assign_to}}</td>
          <td>{{asset.status}}</td>
        </tr>
      </tbody>
    </table>
  </div>


  <div class="treaPagination" *ngIf="assetList.length != 0">
    <ng-container *ngIf="constant.ITEM_COUNT != 0">
      <div class="pull-right">
        <span> {{1+(paginationKey.currentPage-1)*paginationKey.itemsPerPage}} -
          {{(paginationKey.itemsPerPage <= listCount) && (paginationKey.itemsPerPage+(paginationKey.currentPage-1)*paginationKey.itemsPerPage <= listCount) ? paginationKey.itemsPerPage+(paginationKey.currentPage-1)*paginationKey.itemsPerPage : listCount}}</span><span>
          of {{listCount}} items</span>
      </div>
      <div class="pull-right">
        <select [(ngModel)]="paginationKey.itemsPerPage" (change)="changeItemPerPage()">
          <option *ngFor="let pageNo of constant.PAGINATION_ITEMS" [ngValue]="pageNo"> {{pageNo}} </option>
        </select>
        <span> items per page</span>
      </div>
      <div class="pull-right">
        <pagination-controls (pageChange)="changePage($event)" directionLinks="true" autoHide="false"
          previousLabel="Pre" nextLabel="Next" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page"
          screenReaderCurrentLabel="You're on page">
        </pagination-controls>
      </div>
      <div class="clearfix"></div>
    </ng-container>
  </div>

  <div class="errMsgCon mar-top" *ngIf="isError">
    <small>{{errMsg}}</small>
  </div>
  <div class="clearfix"></div>
  <!-- Selected Asset -->
  <div class="selSection" *ngIf="assetInfo">
    <h2 id="assetMark" class="pageTitle">{{assetInfo.short_tag}}</h2>
    <h3 class="detailsHeading">Item Information</h3>
    <div class="row">
      <div class="col-sm-3">
        <div class="previewImg">
          <img *ngIf="assetInfo.item_definition ? assetInfo.item_definition.thumbnail_image :''; else dummyImage"
            src="{{assetInfo.item_definition.thumbnail_image}}" class="img-responsive cursorPtr" alt="Asset image"
            (click)="showImage(assetInfo.item_definition.thumbnail_image)" />
          <ng-template #dummyImage>
            <!-- <img src="https://dummyimage.com/100x100/000/fff" class="img-responsive cursorPtr" alt="Asset image" /> -->
            <!-- <div class="text-center mt-68 optional">Image Not Available </div> -->
          </ng-template>
        </div>
      </div>
      <div class="col-sm-9">
        <div class="row">
          <div class="col-sm-3">
            <div class="label-col">Manufacturer</div>
          </div>
          <div class="col-sm-9">
            <div class="info-col"><span>{{assetInfo.manufacturer ? assetInfo.manufacturer.manf_name :""}}
              </span></div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <div class="label-col">Item No.</div>
          </div>
          <div class="col-sm-9">
            <div class="info-col">{{assetInfo.item_definition ? assetInfo.item_definition.item_definition_no: ''}}</div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <div class="label-col">Item Name</div>
          </div>
          <div class="col-sm-9">
            <div class="info-col">{{assetInfo.item_definition ? assetInfo.item_definition.item_definition_name: ''}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <div class="label-col">UPC</div>
          </div>
          <div class="col-sm-9">
            <div class="info-col">{{assetInfo.item_definition ? assetInfo.item_definition.upc : ''}}</div>
          </div>
        </div>
      </div>
    </div>

    <nav class="tabbed-nav">
      <ul class="tabs-list">
        <li class="tabs" canAccess="asset_general_details">
          <button [ngClass]="assetDetails == 'details' ? 'act-option' :''" (click)="showDetails('details')"
            mat-raised-button class="trea-btn">Asset Details</button>
        </li>
        <li class="tabs" canAccess="asset_financial">
          <button [ngClass]="assetDetails == 'financial' ? 'act-option' :''" (click)="showDetails('financial')"
            mat-raised-button class="trea-btn">Financials</button>
        </li>
        <li class="tabs" canAccess="asset_docs">
          <button [ngClass]="assetDetails == 'documents' ? 'act-option' :''" (click)="showDetails('documents')"
            mat-raised-button class="trea-btn">Documents</button>
        </li>
        <li class="tabs">
          <button [ngClass]="assetDetails == 'serHistory' ? 'act-option' :''" (click)="showDetails('serHistory')"
            mat-raised-button class="trea-btn">Service History</button>
        </li>
        <li class="tabs" canAccess="asset_schedule">
          <button [ngClass]="assetDetails == 'schedule' ? 'act-option' :''" (click)="showDetails('schedule')"
            mat-raised-button class="trea-btn">Schedule</button>
        </li>
      </ul>
    </nav>

    <div canAccess="asset_general_details" class="itemDetails" *ngIf="assetDetails == 'details'">
      <form autocomplete="off" role="form" [formGroup]="itemForm">
        <div class="add-client addEmpBtnWrap" *ngIf="util.canAccess('asset_create') || util.canAccess('asset_delete')">
          <div class="dropdown">
            <button mat-raised-button class="client-btn dropdown-toggle w160p" type="button"
              data-toggle="dropdown">Edit
            </button>
            <ul class="dropdown-menu">
              <li canAccess="asset_create">
                <a href="javascript:void(0)" class="client-btn w160p" (click)="changeAction('editDetails')">Edit
                  Information &nbsp;&nbsp;&nbsp;&nbsp;</a></li>
              <li canAccess="asset_delete"><a id="delete-btn" href="javascript:void(0)" class="client-btn w160p"
                  (click)="deleteAction(assetInfo.asset_id)">Delete</a></li>
            </ul>
          </div>
        </div>
        <div class="clearfix"></div>
        <h3 class="detailsHeading">Asset Information</h3>
        <div class="row">
          <div class="col-sm-12">
            <div *ngIf="!isEditDetails">
              <div class="row">
                <div class="col-sm-3">
                  <div class="label-col">Asset Name</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col">{{assetInfo.short_tag}}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3">
                  <div class="label-col optional">Serial No.</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col">{{assetInfo.serial_no}}</div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3">
                  <div class="label-col">Scan Code</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col">{{assetInfo.scan_code}}</div>
                </div>
              </div>
            </div>
            <div *ngIf="isEditDetails">
              <div class="row">
                <div class="col-sm-3">
                  <div class="label-col">Asset Name</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col editInfo"
                    [ngClass]="isEditDetails ? (short_tag.invalid && (short_tag.dirty || short_tag.touched || submitted)) ? 'marBtm5' : 'marBtm15' : ''">
                    <input autocomplete="nope" type="text" name="assetName" formControlName="short_tag" placeholder=""
                      class="form-control" (change)="validateAssetName($event)">
                    <span class="error-msg" *ngIf="pageData.isError"><small
                        *ngIf="pageData.assetNameAvailability == '1'">Asset
                        name is already exist.</small></span>
                    <span class="error-msg"
                      *ngIf="short_tag.invalid && (short_tag.dirty || short_tag.touched || submitted)">
                      <small *ngIf="short_tag.errors.required">Asset name is required.</small>
                      <small *ngIf="short_tag.errors.maxlength">Asset name must not greater than
                        {{constant.DEFAULT_TEXT_MAXLENGTH}} characters.</small>
                    </span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-3">
                  <div class="label-col">Scan code</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col editInfo"
                    [ngClass]="isEditDetails ? (scan_code.invalid && (scan_code.dirty || scan_code.touched || submitted)) ? 'marBtm5' : 'marBtm15' : ''">
                    <div class="treaRadioBtn">
                      <input autocomplete="nope" name="radio-group" type="radio" id="sysGen" checked>
                      <label for="sysGen" (click)="sysGeneratedCodeClick()">System Generated</label>
                    </div>
                    <div class="treaRadioBtn editInfo">
                      <input autocomplete="nope" name="radio-group" type="radio" [(ngModel)]="barCode"
                        [ngModelOptions]="{standalone: true}" id="metalBarcode" value="barcode">
                      <label for="metalBarcode" (click)="scanCodeClick()">Enter metal barcode</label>
                      <input autocomplete="nope" type="text" name="scanCode" formControlName="scan_code" placeholder=""
                        class="form-control" *ngIf="isShowScanCode">
                      <span class="error-msg"
                        *ngIf="scan_code.invalid && (scan_code.dirty || scan_code.touched || submitted)">
                        <small *ngIf="scan_code.errors.required">Scan Code is required.</small>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col">Asset Status</div>
              </div>
              <div class="col-sm-6">
                <div class="info-col editInfo" [ngClass]="isEditDetails ? 'marBtm15' : ''">
                  <div *ngIf="assetInfo.status_info.status != 'Needs Maintenance'">
                    <div>{{assetInfo.status_info ? assetInfo.status_info.status : ''}}</div>
                    <button *ngIf="assetInfo.status_info.status == 'Available'" canAccess="maintainance_request_create" mat-raised-button
                      class="trea-btn width200" (click)="needMaintenanceRequest()" >Request Maintenance</button>
                  </div>
                  <div *ngIf="assetInfo.status_info.status == 'Needs Maintenance'" canAccess="maintainance_request_list">

                    <a href="javascript:void(0)"
                      [routerLink]="['/inventory/csa/maintenance-list/', assetInfo.maintainance_request_id]">Maintenance
                      Requested</a>

                  </div>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="isEditDetails">
              <div class="col-sm-3">
                <div class="label-col optional">Serial No.</div>
              </div>
              <div class="col-sm-6">
                <div class="info-col editInfo"
                  [ngClass]="isEditDetails ? (serial_no.invalid && (serial_no.dirty || serial_no.touched || submitted)) ? 'marBtm5' : 'marBtm15' : ''">
                  <input autocomplete="nope" type="text" name="serialNo" formControlName="serial_no"
                    (keypress)="util.noSpace($event)" placeholder="" class="form-control"
                    (change)="validateSerialNo($event)">
                  <span class="error-msg" *ngIf="pageData.isError"><small
                      *ngIf="pageData.serialNoAvailability == '1'">Serial
                      number is already exist.</small></span>
                  <span class="error-msg"
                    *ngIf="serial_no.invalid && (serial_no.dirty || serial_no.touched || submitted)">
                    <!-- <small *ngIf="serial_no.errors.required">Serial number is required.</small> -->
                    <small *ngIf="serial_no.errors.minlength && !serial_no.errors.pattern">Serial number must be at
                      least 6
                      characters long.</small>
                    <small *ngIf="serial_no.errors.maxlength && !serial_no.errors.pattern">Serial number must be less
                      than 30
                      characters.</small>
                    <small *ngIf="serial_no.errors.pattern">Serial number accepts alphanumeric characters
                      only.</small>
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Location</div>
              </div>
              <div class="col-sm-6">
                <div class="info-col editInfo optional"
                  [ngClass]="isEditDetails ? (location_id.invalid && (location_id.dirty || location_id.touched || submitted)) ? 'marBtm5' : 'marBtm15' : ''">
                  <div *ngIf="!isEditDetails" class="info-col">
                    {{assetInfo.location ? assetInfo.location.location_name : ''}}</div>
                  <div class="autoCompleteList" *ngIf="isEditDetails">
                    <div class="searchList">
                      <mat-form-field class="product">
                        <input autocomplete="nope" matInput placeholder="" [formControl]="location"
                          [matAutocomplete]="locations" (keyup)="validateLoc($event)" id="location_id">
                        <i *ngIf="location.value!=''"
                          (click)="util.clearAutoComplete('location_id', [location, location_id,location_tag,location_tag_id])"
                          class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                        <img *ngIf="location.value==''" class="selectBoxIcon" aria-hidden
                          src="assets/icon/select.png" />
                        <mat-autocomplete #locations="matAutocomplete">
                          <mat-option *ngFor="let loc of filteredLocations | async"
                            (onSelectionChange)="getSelectedLocation($event, loc)" [value]="loc.location_name">
                            <span>{{ loc.location_name }}</span>
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>
                  <span class="error-msg"
                    *ngIf="location_id.invalid && (location_id.dirty || location_id.touched || submitted)">
                    <!-- <small *ngIf="location_id.errors.required">Please select Location from the list.</small> -->
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Location Tag</div>
              </div>
              <div class="col-sm-6">
                <div class="info-col editInfo optional"
                  [ngClass]="isEditDetails ? location_tag_id.invalid && (location_tag_id.dirty || location_tag_id.touched || submitted) ? 'marBtm5' : 'marBtm15' : ''">
                  <div *ngIf="!isEditDetails" class="info-col">
                    {{assetInfo.location_tag ? assetInfo.location_tag.scan_code : "" }}</div>
                  <div class="autoCompleteList" *ngIf="isEditDetails">
                    <div class="searchList">
                      <mat-form-field class="product">
                        <input autocomplete="nope" matInput placeholder="" [formControl]="location_tag"
                          [matAutocomplete]="tags" (keyup)="validateLocTags($event)" id="location_tag_id">
                        <i *ngIf="location_tag.value!=''"
                          (click)="util.clearAutoComplete('location_tag_id', [location_tag, location_tag_id])"
                          class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                        <img *ngIf="location_tag.value==''" class="selectBoxIcon" aria-hidden
                          src="assets/icon/select.png" />
                        <mat-autocomplete #tags="matAutocomplete">
                          <mat-option *ngFor="let tag of filteredTags | async"
                            (onSelectionChange)="getSelectedTag($event, tag)" [value]="tag.scan_code">
                            <span>{{ tag.scan_code }}</span>
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>
                  <span class="error-msg"
                    *ngIf="location_tag_id.invalid && (location_tag_id.dirty || location_tag_id.touched || submitted)">
                    <!-- <small *ngIf="location_tag_id.errors.required">Please select Location Tag from the list.</small> -->
                  </span>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Assign To</div>
              </div>
              <div class="col-sm-6 optional">
                <div class="info-col editInfo" [ngClass]="isEditDetails ? 'marBtm15' : ''">
                  <div *ngIf="!isEditDetails" class="info-col">
                    {{assetInfo.assign_to ? assetInfo.assign_to.first_name + " "  + assetInfo.assign_to.last_name  : '-'}}
                  </div>
                  <div *ngIf="isEditDetails" class="autoCompleteList">
                    <div class="searchList">
                      <mat-form-field class="product">
                        <input autocomplete="nope" matInput placeholder="" [formControl]="assign_name"
                          [matAutocomplete]="EmpAutoComp" (keyup)="validateEmp($event)" id="emp_id">
                        <i *ngIf="assign_name.value!=''"
                          (click)="util.clearAutoComplete('emp_id', [assign_name, assign_to])"
                          class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                        <img *ngIf="assign_name.value==''" class="selectBoxIcon" aria-hidden
                          src="assets/icon/select.png" />
                        <mat-autocomplete #EmpAutoComp="matAutocomplete">
                          <mat-option *ngFor="let indx=index; let emp of filteredEmployee | async" [value]="emp.name"
                            (onSelectionChange)="getSelectedEmp(emp,$event)">
                            <span>{{ emp.name}}</span>
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Warranty Supplier</div>
              </div>
              <div class="col-sm-6 editInfo optional" [ngClass]="isEditDetails ? 'marBtm15' : ''">
                <div *ngIf="!isEditDetails" class="info-col">{{assetInfo.warranty_supplier}}</div>
                <div class="autoCompleteList" *ngIf="isEditDetails">
                  <div class="searchList">
                    <mat-form-field class="product">
                      <input autocomplete="nope" matInput placeholder="" [formControl]="warranty_supplier"
                        [matAutocomplete]="warrantySupplierAutoComp" (keyup)="validateWSupplier($event)"
                        id="warranty_supplier_id">
                      <i *ngIf="warranty_supplier.value!=''"
                        (click)="util.clearAutoComplete('warranty_supplier_id', [warranty_supplier, warranty_supplier_id])"
                        class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                      <img *ngIf="warranty_supplier.value==''" class="selectBoxIcon" aria-hidden
                        src="assets/icon/select.png" />
                      <mat-autocomplete #warrantySupplierAutoComp="matAutocomplete">
                        <mat-option *ngFor="let indx=index; let item of filteredWarrantySupplier | async"
                          [value]="item.supplier_name" (onSelectionChange)="getSelectedWSupplier(item, $event)">
                          <span>{{ item.supplier_name }}</span>
                        </mat-option>

                        <mat-option (click)="showAddSupplierPopup('WARRANTY', '6')">
                          <img aria-hidden src="assets/icon/icon-add.png" />
                          <span>New Supplier</span>
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Warranty End Date</div>
              </div>
              <div class="col-sm-6 editInfo optional" [ngClass]="isEditDetails ? 'marBtm15' : ''">
                <div *ngIf="!isEditDetails" class="info-col">{{util.getFormatedDate(assetInfo.warranty_end_date)}}
                </div>
                <div class="dateWrapper" *ngIf="isEditDetails">
                  <input autocomplete="nope" type="text" formControlName="warranty_end_date" class="date ptrN h26"
                    [matDatepicker]="picker" [min]="minDate">
                  <mat-datepicker #picker></mat-datepicker>
                  <span class="dateIcon" (click)="picker.open()"><img src="assets/icon/date_picker.png"></span>
                  <div class="clearfix"></div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-3">
                <div class="label-col optional">Comments</div>
              </div>
              <div class="col-sm-6 ">
                <div *ngIf="!isEditDetails optional" class="info-col">{{assetInfo.comment}}</div>
                <!-- <input autocomplete="nope" *ngIf="isEditDetails" type="text" value="W1-Service"> -->
                <textarea [(ngModel)]="assetInfo.comment" class="optional" [ngModelOptions]="{standalone: true}"
                  *ngIf="isEditDetails" name="" id="" rows="10" class="width100">{{assetInfo.comment}}</textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="clearfix"></div>

        <div class="errMsgCon mar-top" *ngIf="isError && isEditDetails">
          <small>{{errMsg}}</small>
        </div>
        <div class="clearfix"></div>

        <div class="button-row" *ngIf="isEditDetails">
          <button id="update-asset-btn" mat-raised-button class="trea-btn"
            (click)="updateAsset(assetInfo)">Update</button>
          <button mat-raised-button class="trea-btn cancelBtn" (click)="cancelEdit()">Cancel</button>
        </div>
      </form>
    </div>
    <!-- FINANCIALS TAB -->
    <div canAccess="asset_financial" class="financialDetails" *ngIf="assetDetails == 'financial'">
      <form autocomplete="off" role="form" [formGroup]="financialForm">
        <div class="add-client addEmpBtnWrap">
          <div class="dropdown">
            <!-- ngIf="util.getRole() == 2" -->
            <button mat-raised-button class="client-btn dropdown-toggle w160p" type="button" data-toggle="dropdown">Edit
            </button>
            <ul class="dropdown-menu">
              <li><a href="javascript:void(0)" class="client-btn w160p" (click)="changeAction('editFinancial')">Edit
                  Information
                  &nbsp;&nbsp;&nbsp;&nbsp;</a></li>
              <li><a href="javascript:void(0)" class="client-btn w160p"
                  (click)="deleteAction(assetInfo.asset_id)">Delete</a></li>
            </ul>
          </div>
        </div>
        <div class="clearfix"></div>

        <div class="row marTop15">
          <div class="col-sm-6">
            <div class="row">
              <div class="col-sm-6">
                <div class="label-col">Ownership Type</div>
              </div>
              <div class="col-sm-6 editInfo">
                <div class="info-col">
                  {{assetInfo.financials.ownership_type ? assetInfo.financials.ownership_type.status : ""}}</div>
              </div>
            </div>
            <div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && assetInfo.financials.ownership_type.type_id == 1">
                <div class="col-sm-6">
                  <div class="label-col">Purchased From</div>
                </div>
                <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                  <div *ngIf="!isEditFinancial" class="info-col">
                    {{assetInfo.financials.supplier ? assetInfo.financials.supplier :""}}</div>
                  <div class="autoCompleteList" *ngIf="isEditFinancial">
                    <div class="searchList">
                      <mat-form-field class="product">
                        <input autocomplete="nope" matInput placeholder="" [formControl]="supplier"
                          [matAutocomplete]="supplierAutoComp" id="supplier_id">
                        <i *ngIf="supplier.value!=''"
                          (click)="util.clearAutoComplete('supplier_id', [supplier, supplier_id])"
                          class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                        <img *ngIf="supplier.value==''" class="selectBoxIcon" aria-hidden
                          src="assets/icon/select.png" />
                        <mat-autocomplete #supplierAutoComp="matAutocomplete">
                          <mat-option *ngFor="let indx=index; let item of filteredSupplier | async"
                            [value]="item.supplier_name" (onSelectionChange)="getSelectedSupplier(item)">
                            <span>{{ item.supplier_name }}</span>
                          </mat-option>

                          <mat-option (click)="showAddSupplierPopup('ASSET', '2')">
                            <img aria-hidden src="assets/icon/icon-add.png" />
                            <span>New Supplier</span>
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="assetInfo.financials.ownership_type && assetInfo.financials.ownership_type.type_id == 2">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="label-col">Purchased From</div>
                  </div>
                  <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                    <div *ngIf="!isEditFinancial" class="info-col">
                      {{assetInfo.financials ?assetInfo.financials.leased_from_supplier : ""}}</div>
                    <div class="searchList" *ngIf="isEditFinancial">
                      <mat-form-field class="product">
                        <input autocomplete="nope" matInput placeholder="" [formControl]="leased_from"
                          [matAutocomplete]="leasedAutoComp" (keyup)="validateLSupplier($event)" id="leased_from_id">
                        <i *ngIf="leased_from.value!=''"
                          (click)="util.clearAutoComplete('leased_from_id', [leased_from, leased_from_id])"
                          class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                        <img *ngIf="leased_from.value==''" class="selectBoxIcon" aria-hidden
                          src="assets/icon/select.png" />
                        <mat-autocomplete #leasedAutoComp="matAutocomplete">
                          <mat-option *ngFor="let indx=index; let item of filteredLeasedFrom | async"
                            [value]="item.supplier_name" (onSelectionChange)="getSelectedLSupplier(item, $event)">
                            <span>{{ item.supplier_name }}</span>
                          </mat-option>

                          <mat-option (click)="showAddSupplierPopup('LEASED', '3')">
                            <img aria-hidden src="assets/icon/icon-add.png" />
                            <span>New Supplier</span>
                          </mat-option>
                        </mat-autocomplete>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="assetInfo.financials.ownership_type && assetInfo.financials.ownership_type.type_id == 3">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="label-col">Purchased From</div>
                  </div>
                  <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                    <div *ngIf="!isEditFinancial" class="info-col">
                      {{assetInfo.financials ? assetInfo.financials.financed_from_supplier :""}}
                    </div>
                    <div class="autoCompleteList" *ngIf="isEditFinancial">
                      <div class="searchList">
                        <mat-form-field class="product">
                          <input autocomplete="nope" matInput placeholder="" [formControl]="financed_from"
                            [matAutocomplete]="financedAutoComp" (keyup)="validateFSupplier($event)"
                            id="financed_from_id">
                          <i *ngIf="financed_from.value!=''"
                            (click)="util.clearAutoComplete('financed_from_id', [financed_from, financed_from_id])"
                            class="clearAutoComplete fa fa-times-circle" aria-hidden="true"></i>
                          <img *ngIf="financed_from.value==''" class="selectBoxIcon" aria-hidden
                            src="assets/icon/select.png" />
                          <mat-autocomplete #financedAutoComp="matAutocomplete">
                            <mat-option *ngFor="let indx=index; let item of filteredFinancedFrom | async"
                              [value]="item.supplier_name" (onSelectionChange)="getSelectedFSupplier(item, $event)">
                              <span>{{ item.supplier_name }}</span>
                            </mat-option>

                            <mat-option (click)="showAddSupplierPopup('FINANCED', '3')">
                              <img aria-hidden src="assets/icon/icon-add.png" />
                              <span>New Supplier</span>
                            </mat-option>
                          </mat-autocomplete>
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="row" *ngIf="assetInfo.financials.ownership_type && assetInfo.financials.ownership_type.type_id == 2">
                <div class="col-sm-6">
                  <div class="label-col">Downpayment</div>
                </div>
                <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                  <div *ngIf="!isEditFinancial" class="info-col">
                    {{assetInfo.financials.paid_capital | currency: util.getCurrency() :'symbol-narrow'}}</div>
                  <input autocomplete="nope" type="number" *ngIf="isEditFinancial" formControlName="paid_capital">
                </div>
              </div> -->
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3 )">
                <div class="col-sm-6">
                  <div class="label-col">Purchase Price</div>
                </div>
                <div class="col-sm-6 editInfo">
                  <div class="info-col" *ngIf="!isEditFinancial">
                    {{assetInfo.financials.purchase_price | currency: util.getCurrency() :'symbol-narrow'}}
                  </div>
                  <input autocomplete="nope" *ngIf="isEditFinancial" type="text" name="price"
                    formControlName="purchase_price" placeholder="" class="form-control currencyInput"
                    (change)="calcMonthlyDepriciation($event, 'PP')">

                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <div class="label-col">Purchase Date</div>
                </div>
                <div class="col-sm-6 editInfo">
                  <div class="info-col" *ngIf="!isEditFinancial">
                    {{util.getFormatedDate(assetInfo.financials.purchase_date)}}</div>
                  <div class="dateWrapper" *ngIf="isEditFinancial">
                    <input autocomplete="nope" type="text" formControlName="purchase_date" placeholder=""
                      class="date ptrN h26" [min]="minDate" [matDatepicker]="picker" [max]="maxDate"
                      style="pointer-events: none;">
                    <mat-datepicker #picker (selectedChanged)="purchaseDateChange($event)"></mat-datepicker>
                    <span class="dateIcon" (click)="picker.open()"><img src="assets/icon/date_picker.png"></span>
                    <div class="clearfix"></div>
                  </div>
                </div>
              </div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3)">
                <div class="col-sm-6">
                  <div class="label-col">Monthly Depreciation</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col">{{assetInfo.financials.monthly_depreciation}}</div>
                </div>
                <div *ngIf="isCalculation" class="loaderField"><i class="fa fa-spinner fa-pulse fa-3x fa-fw action"></i>
                </div>
              </div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 2 || assetInfo.financials.ownership_type.type_id == 3)">
                <div class="col-sm-6">
                  <div class="label-col">Monthly Payment</div>
                </div>
                <div class="col-sm-6">
                  <div class="info-col">
                    {{assetInfo.financials.monthly_payment | currency: util.getCurrency() :'symbol-narrow'}}
                  </div>
                </div>
              </div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3)">
                <div class="col-sm-6">
                  <div class="label-col">Age of Asset</div>
                </div>
                <div class="col-sm-6 editInfo">
                  <!-- *ngIf="!isEditFinancial" -->
                  <div class="info-col">{{assetInfo.financials.age_of_asset}} months</div>
                  <div *ngIf="isCalculation" class="loaderField"><i
                      class="fa fa-spinner fa-pulse fa-3x fa-fw action"></i></div>
                  <!-- <span class="error-msg"
                    *ngIf="age_of_equipment.invalid && (age_of_equipment.dirty || age_of_equipment.touched || finSubmitted)">
                    <small *ngIf="age_of_equipment.errors.required">Age of asset is required.</small>
                  </span> -->
                </div>
              </div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3)">
                <div class="col-sm-6">
                  <div class="label-col">Useful Remaining Life</div>
                </div>
                <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                  <div *ngIf="!isEditFinancial" class="info-col">{{assetInfo.financials.usefull_remaining_life}}
                    months</div>
                  <div class="dateWrapper" *ngIf="isEditFinancial">
                    <input autocomplete="nope" type="text" formControlName="esti_useful_life"
                      (change)="calcMonthlyDepriciation($event, 'EUL')" class="maxW100"> months
                  </div>
                  <span class="error-msg"
                    *ngIf="esti_useful_life.invalid && (esti_useful_life.dirty || esti_useful_life.touched || finSubmitted)">
                    <small *ngIf="esti_useful_life.errors.required">Estimated Useful Life is required.</small>
                  </span>
                </div>
              </div>
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 2 || assetInfo.financials.ownership_type.type_id == 3  )">
                <div class="col-sm-6">
                  <div class="label-col">Capital Paid till date</div>
                </div>
                <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                  <div *ngIf="!isEditFinancial" class="info-col">
                    {{assetInfo.financials.paid_capital | currency: util.getCurrency() :'symbol-narrow'}}</div>
                  <input autocomplete="nope" type="number" *ngIf="isEditFinancial" formControlName="paid_capital">
                </div>
              </div>
              <!-- <div class="row" >
                  <div class="col-sm-6">
                    <div class="label-col">Start Date</div>
                  </div>
                  <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                    <div *ngIf="!isEditFinancial" class="info-col">{{util.getFormatedDate(assetInfo.financials.start_date)}}</div>
                    <div class="dateWrapper" *ngIf="isEditFinancial">
                      <input autocomplete="nope" type="text" formControlName="start_date" class="date ptrN"
                        [matDatepicker]="picker" [max]="maxDate">
                      <mat-datepicker #picker (selectedChanged)="startDateChange($event)"></mat-datepicker>
                      <span class="dateIcon" (click)="picker.open()"><img src="assets/icon/date_picker.png"></span>
                      <div class="clearfix"></div>
                    </div>
                  </div>
                </div> -->
              <div class="row"
                *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 2 || assetInfo.financials.ownership_type.type_id == 3  )">
                <div class="col-sm-6"
                  *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 2 || assetInfo.financials.ownership_type.type_id == 3  )">
                  <div class="label-col">
                    <span *ngIf="assetInfo.financials.ownership_type.type_id == 2"> Lease Expiry Date</span>
                    <span *ngIf="assetInfo.financials.ownership_type.type_id == 3"> Last Monthly Payment Due
                      Date</span></div>
                </div>
                <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                  <div *ngIf="!isEditFinancial" class="info-col">
                    {{util.getFormatedDate(assetInfo.financials.end_date)}}</div>
                  <div class="dateWrapper" *ngIf="isEditFinancial">
                    <input autocomplete="nope" type="text" formControlName="end_date" class="date ptrN"
                      [matDatepicker]="picker" [min]="start_date.value">
                    <mat-datepicker #picker></mat-datepicker>
                    <span class="dateIcon" (click)="picker.open()"><img src="assets/icon/date_picker.png"></span>
                    <div class="clearfix"></div>
                  </div>
                </div>
              </div>
              <!-- <div class="row">
                  <div class="col-sm-6">
                    <div class="label-col">Term</div>
                  </div>
                  <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                    <div *ngIf="!isEditFinancial" class="info-col">{{assetInfo.financials.term}} months</div>
                    <div class="dateWrapper" *ngIf="isEditFinancial">
                      <input autocomplete="nope" type="number" *ngIf="isEditFinancial" formControlName="term"> months
                    </div>
                    <span class="error-msg" *ngIf="term.invalid && (term.dirty || term.touched || finSubmitted)">
                      <small *ngIf="term.errors.required">Term is required.</small>
                    </span>
                  </div>
                </div> -->
            </div>




          </div>
          <div class="col-sm-6">
            <div class="row"
              *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3 )">
              <div class="col-sm-6">
                <div class="label-col">Present Value</div>
              </div>
              <div class="col-sm-6">
                <div class="info-col">
                  {{assetInfo.financials.present_value | currency: util.getCurrency() :'symbol-narrow'}}
                </div>
              </div>
              <div *ngIf="isCalculation" class="loaderField"><i class="fa fa-spinner fa-pulse fa-3x fa-fw action"></i>
              </div>
            </div>
            <div class="row"
              *ngIf="assetInfo.financials.ownership_type && (assetInfo.financials.ownership_type.type_id == 1 || assetInfo.financials.ownership_type.type_id == 3 )">
              <div class="col-sm-6">
                <div class="label-col">Residual Value</div>
              </div>
              <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                <div *ngIf="!isEditFinancial" class="info-col">
                  {{assetInfo.financials.residual_value | currency: util.getCurrency() :'symbol-narrow'}}
                </div>
                <input autocomplete="nope" type="text" *ngIf="isEditFinancial" formControlName="residual_value"
                  (change)="calcMonthlyDepriciation($event, 'RV')">
                <span class="error-msg"
                  *ngIf="residual_value.invalid && (residual_value.dirty || residual_value.touched || finSubmitted)">
                  <small *ngIf="residual_value.errors.required">Residual Value is required.</small>
                </span>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <div class="label-col">Account Reference No.</div>
              </div>
              <div class="col-sm-6 editInfo" [ngClass]="isEditFinancial ? 'marBtm15' : ''">
                <div *ngIf="!isEditFinancial" class="info-col">{{assetInfo.financials.acc_ref_no}}</div>
                <input autocomplete="nope" type="text" *ngIf="isEditFinancial" formControlName="acc_ref_no">
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
        </div>

        <div class="errMsgCon mar-top" *ngIf="isError && isEditFinancial">
          <small>{{errMsg}}</small>
        </div>

        <div class="row assetActionSection" *ngIf="isEditFinancial">
          <div>
            <button id="fin-update-btn" mat-raised-button class="trea-btn width150 pull-left"
              (click)="updateFinancial(financialForm, assetInfo)">Update</button>
            <button mat-raised-button class="trea-btn width150 pull-left cancelBtn"
              (click)="cancelEdit()">Cancel</button>
          </div>
        </div>
      </form>
    </div>
    <!-- DOCUMENTS TAB -->
    <div canAccess="asset_docs" class="documents" *ngIf="assetDetails == 'documents'">
      <div class="selPart">
        <div class="add-client addEmpBtnWrap">
          <div class="dropdown">
            <button *ngIf="util.getRole() == 2" mat-raised-button class="client-btn dropdown-toggle w160p" type="button"
              data-toggle="dropdown" (click)="addNewDoc()">Edit
            </button>
          </div>
        </div>
      </div>
      <!-- *ngIf="assetInfo.docs.length > 0" -->
      <div class="row doc-section">
        <div class="col-sm-4" *ngFor="let item of assetInfo.documents; let indx = index">
          <div class="documentWrap">
            <div class="docImg" *ngIf="item.attachment_type == 1">
              <img src="{{item.attachment_path}}" class="img-responsive" (click)="showImage(item.attachment_path)">
            </div>
            <div class="docImg" *ngIf="item.attachment_type == 2">
              <a [href]="item.attachment_path" target="_blank">
                <img src="assets/icon/document_icon.png" class="img-responsive">
              </a>
            </div>
            <div class="docTitle bold">
              <a [href]="item.attachment_path" target="_blank">{{item.attachment_name}}</a>
            </div>
            <div class="docText">
              {{item.comment ? item.comment : ''}}
            </div>
          </div>
        </div>
        <div class="clearfix"></div>
      </div>
      <div *ngIf="assetInfo.documents.length == 0">
        <div class="row">
          <div class="col-sm-6">
            <div class="label-col">No data found.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="serviceHistory" *ngIf="assetDetails == 'serHistory'">
      <div class="row">
        <div class="col-sm-6">
          <div class="serviceHistTblTitle label-col">Service History</div>
          <div class="serviceHistTbl table-responsive">
            <table class="table" *ngIf="assetInfo.service_history.length > 0">
              <tbody>
                <tr>
                  <th>Date</th>
                  <th>Status</th>
                  <th>Comment</th>
                  <th>Work Order</th>
                </tr>
                <tr *ngFor="let item of assetInfo.service_history">
                  <td>{{util.getFormatedDate(item.work_order_date)}}</td>
                  <td>{{item.status}}</td>
                  <td>{{item.comment}}</td>
                  <td><span [routerLink]="['/workflow/wo/csa/work-order-list/', item.work_order_id]">WO
                      {{item.work_order_no}}</span></td>


                </tr>
              </tbody>
            </table>
            <table class="table" *ngIf="assetInfo.service_history.length == 0">
              <tbody>
                <tr>
                  <th>Date</th>
                  <th>Status</th>
                  <th>Comment</th>
                  <th>Work Order</th>
                </tr>
                <tr>
                  <td colspan="4" class="text-center">No Data Found</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    
    <div canAccess="asset_schedule" class="scheduleDetails" *ngIf="assetDetails == 'schedule'">
      <!-- <h3 class="detailsHeading">Schedule List</h3> -->

        <app-schedule-calendar-display requestFrom="assets" [schedules]="assetInfo.schedule_list"
        [displayDays]="1" primaryId="{{assetInfo.asset_id}}">
        </app-schedule-calendar-display>

      <!-- <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th>Schedule No.</th>
              <th>Start Date</th>
              <th>Start Time</th>
              <th>End Date</th>
              <th>End Time</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of assetInfo.schedule_list">
              <td>

                #{{item.schedule.scheduling_id}}
              </td>
              <td>{{ item.schedule_type == 3 ? 'N/A' : ( util.getFormatedDate(item.start_date) ) }}</td>
              <td>{{ item.schedule_type == 3 ? 'N/A' : item.start_time.substring(0,5) }}
                {{ item.schedule_type == 3 ? '' : item.start_time_format }}</td>
              <td>{{ item.schedule_type == 3 ? 'N/A' : ( util.getFormatedDate(item.end_date) ) }}</td>
              <td>{{ item.schedule_type == 3 ? 'N/A' : item.end_time.substring(0,5) }}
                {{ item.schedule_type == 3 ? '' : item.end_time_format }}</td>

            </tr>
          </tbody>
        </table>
      </div> -->
    </div>

  </div>

</div>


<table id="asset-tbl" class="dn">
  <thead>
    <tr>
      <th>Short Name</th>
      <th>Location</th>
      <th>Serial No.</th>
      <th>Scan Code</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let indx=index ;let asset of assetList ">
      <!-- | sortBy:sortColumn:sortOrder:sortColumnType |  searchfilter:nameSearch:'short_name'| searchfilter:locationSearch:'location_tag' | searchfilter:serialSearch:'serial_no' | searchfilter:scanCodeSearch:'scan_code' | searchfilter:pageData.statusSearch:'asset_status'  | searchfilter:searchTxt:'short_name,location_tag,serial_no,scan_code,asset_status' -->
      <td>{{asset.short_name}}</td>
      <td>{{asset.location_tag}}</td>
      <td>{{asset.serial_no}}</td>
      <td>{{asset.scan_code}}</td>
      <td>{{asset.asset_status}}</td>
    </tr>
  </tbody>
</table>
